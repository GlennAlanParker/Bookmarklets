javascript:(function(){(function(){try{const t=document.title,u=window.location.href,l=Array.from(document.querySelectorAll('a[href]')),w=window.open('');if(!w)return alert('Please allow popups.');const d=w.document;d.title=`Inventory: ${t}`;const s=d.createElement('style');s.textContent=`body{font-family:sans-serif;display:flex;flex-direction:column;align-items:center;padding:20px;margin:0;background:#fff}header{text-align:center;width:90%;margin-bottom:20px}#sc{position:sticky;top:0;background:#fff;padding:15px;width:90%;z-index:100;text-align:center;border-bottom:1px solid #eee}#si{width:70%;padding:12px;font-size:16px;border:2px solid #0000FF;border-radius:5px}table{width:90%;border-collapse:collapse;margin-top:20px}th,td{padding:10px;text-align:left;vertical-align:top;border:none}tr:nth-child(even){background:#f2f2f2}mark{background:yellow;color:black;font-weight:inherit}.hv{color:navy;font-weight:400}.nw{white-space:nowrap}.ba{word-break:break-all}a.std-link{color:#0000FF;text-decoration:underline}pre{white-space:pre-wrap;margin:0;font-family:monospace;font-size:12px;text-align:left}`;d.head.appendChild(s);d.body.innerHTML=`<header><h1>Link Inventory Table</h1><h2>${t}</h2><h3>${u}</h3></header><div id="sc"><input type="text" id="si" placeholder="Search ..."></div><table><thead><tr><th class="nw">#</th><th>Link</th><th>HTML</th></tr></thead><tbody id="tb"></tbody></table>`;const tb=d.getElementById('tb'),si=d.getElementById('si'),data=l.map((a,i)=>({i:`${i+1}.)`,txt:a.innerText.trim()||'[No Text]',url:a.href,raw:a.outerHTML}));function esc(h){return h.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m])}function render(q){const f=d.createDocumentFragment();const lowQ=q.toLowerCase();data.forEach(item=>{const eT=item.txt.toLowerCase(),eU=item.url.toLowerCase(),eR=item.raw.toLowerCase();if(!lowQ||eT.includes(lowQ)||eU.includes(lowQ)||eR.includes(lowQ)){const tr=d.createElement('tr');let hRaw=esc(item.raw).replace(/(href=&quot;)(.*?)(&quot;)/gi,'$1<span class="hv">$2</span>$3');if(q){/* 1. Escape for Regex 2. Also match the HTML entity version */const safeQ=q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');const entQ=esc(q).replace(/[.*+?^${}()|[\]\\]/g,'\\$&');const re=new RegExp(`(${safeQ}|${entQ})`,'gi');const applyHi=val=>val.replace(re,'<mark>$1</mark>');tr.innerHTML=`<td class="nw">${item.i}</td><td class="ba"><a href="${item.url}" target="_blank" class="std-link">${applyHi(esc(item.txt))}</a><br>${applyHi(esc(item.url))}</td><td class="ba"><pre>${applyHi(hRaw)}</pre></td>`}else{tr.innerHTML=`<td class="nw">${item.i}</td><td class="ba"><a href="${item.url}" target="_blank" class="std-link">${esc(item.txt)}</a><br>${esc(item.url)}</td><td class="ba"><pre>${hRaw}</pre></td>`}f.appendChild(tr)}});tb.innerHTML='';tb.appendChild(f)}si.oninput=e=>render(e.target.value);render('')}catch(e){console.error(e)}})();})();
